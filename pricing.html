<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Pricing</title>
	<script type="text/javascript" src="tabulator.min.js"></script>
	<script type="text/javascript" src="peity-vanilla.min.js"></script>
	<script type="text/javascript" src="flatpickr.min.js"></script>
	<link href="tabulator.min.css" rel="stylesheet">
	<link href="flatpickr.min.css" rel="stylesheet">
	<link href="style.css" rel="stylesheet">
	<script src="plotly-3.0.0.min.js" charset="utf-8"></script>
	<script src="math.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
	<link rel="icon" type="image/x-icon" href="logos/icon2.png">
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FX06BZ5MRL"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'G-FX06BZ5MRL');
</script>

<style>
	#content {
		justify-content: center;
		align-items: center;
	}
	#pricing-cards {
		text-align: center;
		padding: 2rem 1rem;
		font-family: sans-serif;
		width: 100%;
	}

	#pricing-cards h2 {
		font-size: 2rem;
		margin-bottom: 0.25rem;
		justify-content: center;
	}

	#pricing-cards .pricing-intro {
		color: #aaa;
		margin-bottom: 2rem;
	}

	.pricing-grid {
		display: flex;
		flex-wrap: wrap;
		gap: 10rem;
		justify-content: center;
	}

	.pricing-card {
		background: #1b1d1e;
		color: #fff;
		border-radius: 12px;
		padding: 1.5rem;
		display: flex;
		max-width: 400px;
		flex-direction: column;
		align-items: center;
		box-shadow: 0 4px 15px rgba(0,0,0,0.4);
		border: 1px solid rgba(255,255,255,0.1);
	}

	.pricing-card.popular {
		border-color: gold;
	}

	.pricing-card.vip {
		border-color: purple;
	}

	.pricing-card h3 {
		margin-top: 0;
		font-size: 1.4rem;
	}

	.pricing-card .price {
		font-size: 1.8rem;
		margin: 0.5rem 0 1rem;
	}
	.pricing-card .price span {
		font-size: 0.9rem;
		color: #aaa;
	}

	.pricing-card ul {
		text-align: left;
		list-style: none;
		padding: 0;
		margin: 0 0 1.5rem;
	}
	.pricing-card ul li {
		margin: 0.5rem 0;
		font-size: 0.95rem;
	}

	.select-btn {
		background: #444;
		color: #fff;
		border: none;
		padding: 0.6rem 1.2rem;
		border-radius: 6px;
		cursor: pointer;
		font-size: 0.95rem;
		font-weight: bold;
		transition: background 0.2s ease;
	}
	.select-btn:hover {
		background: #666;
	}
	.select-btn.highlight {
		background: gold;
		color: #000;
	}
	.select-btn.highlight:hover {
		background: #e6c200;
	}
	.select-btn:disabled {
		background: #333;
		color: #777;
		cursor: default;
	}
	@media (max-width: 600px) {
	}
</style>
<body>
	<div id="header">
		<div id="title">
			<h1>+EV Sharps</h1>
		</div>
		<div id="sub-header">
			<div class="dropdown">
				<select id="page-select"></select>
				<svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg" class="dropdown__arrow css-jbgpyq ehya2ln0" fill="#A4A4AA" stroke="#A4A4AA" stroke-width="0"><title>Right Arrow</title><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg>
			</div>
		</div>
		<div id="auth-buttons">
			<button class="discord-login loggedOut" onclick="loginWithDiscord()">
				<img src="/logos/discord.png" alt="Discord logo">
				<span class="btn-text">Sign in with Discord</span>
			</button>
			<button class="gsi-material-button loggedOut" onclick="loginWithGoogle()">
			  <div class="gsi-material-button-state"></div>
			  <div class="gsi-material-button-content-wrapper">
			    <div class="gsi-material-button-icon">
			      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: block;">
			        <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path>
			        <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path>
			        <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path>
			        <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path>
			        <path fill="none" d="M0 0h48v48H0z"></path>
			      </svg>
			    </div>
			    <span style="display: none;">Sign in with Google</span>
			  </div>
			</button>

			<span id="username" class="username"></span>
			<button id="pricing" class="loggedOut" onclick="changePage('pricing')">Pricing</button>
			<button id="account" class="loggedIn" onclick="changePage('profile')">Profile</button>
			<button id="upgrade" class="loggedIn" onclick="changePage('pricing')">Upgrade 🎯</button>
			<button id="logout" class="loggedIn" onclick="logout()">Logout</button>
		</div>
	</div>
	<div id="content">
		<section id="pricing-cards">
			<h2>Choose Your Plan</h2>
			<p class="pricing-intro">
				Pick the tier that fits your betting style. Upgrade anytime. Cancel anytime.
			</p>

			<div class="pricing-grid">
				<!-- Free -->
				<div class="pricing-card" data-tier="free">
					<h3>🆓 Free</h3>
					<p class="price">$0 <span>/mo</span></p>
					<ul>
						<li>✋ Limited Website Access</li>
						<li>📊 Basic Stats</li>
						<li>⏳ Delayed Odds & Feed</li>
						<li>🔓 Free Discord channels</li>
					</ul>
					<button class="select-btn" onclick="handlePlanClick(this, 'free')" disabled>
						<span class="btn-text">Current</span>
						<span class="spinner" style="display:none;"></span>
					</button>
				</div>

				<!-- Website Only -->
				<div class="pricing-card" data-tier="analyst">
					<h3>💻 Analyst</h3>
					<p class="price">$12 <span>/mo</span></p>
					<ul>
						<li>⚡ Full Website Access</li>
						<li>📊 Advanced Stats</li>
						<li>🔓 Analysts Discord channels</li>
						<li>💾 Data Dumps</li>
					</ul>
					<button class="select-btn" onclick="handlePlanClick(this, 'analyst')">
						<span class="btn-text">Upgrade</span>
						<span class="spinner" style="display:none;"></span>
					</button>
				</div>

				<!-- Website + Discord -->
				<div class="pricing-card popular" data-tier="sharp">
					<h3>🎯 Sharp</h3>
					<p class="price">$25 <span>/mo</span></p>
					<ul>
						<li>💻 Everything in Analyst Tier</li>
						<li>📈 Circa movement</li>
						<li>🎟️ Full +EV Betting Slate</li>
						<li>🔓 All Discord channels</li>
					</ul>
					<button class="select-btn highlight" onclick="handlePlanClick(this, 'sharp')">
						<span class="btn-text">Upgrade</span>
						<span class="spinner" style="display:none;"></span>
					</button>
				</div>
			</div>
		</section>
	</div>
	<footer class="site-footer">
		<p>All content is for entertainment purposes only. +EV Sharps is not affiliated with MLB. <a href="/disclaimer">Read Full Terms</a></p>
		</footer>
	<script src="auth.js"></script>
	<script type="text/javascript" src="shared.js"></script>
	<script type="text/javascript">
		PAGE = "pricing";

		function handlePlanClick(button, plan) {

			if (!ACCESS_TOKEN) {
				alert("🔒 Please log in first to upgrade!");
				// optionally focus your top-right login field
				document.getElementById("email")?.focus();
				return;
			}
			const btnText = button.querySelector('.btn-text');
			const spinner = button.querySelector('.spinner');

			// Show spinner and disable button
			btnText.textContent = 'Processing…';
			spinner.style.display = 'inline-block';
			button.disabled = true;
			upgrade(plan);
		}
	</script>
</body>
</html>
